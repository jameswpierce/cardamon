<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>{{ title }}</title>
        <script src="/~cardamon/index.js"></script>
        <style>
            * {
                box-sizing: border-box;
                border: 0;
                padding: 0;
                margin: 0;
                font-family: monospace;
            }
            html {
                font-size: 16px;
            }
            ul {
                background-color: lime;
                scrollbar-width: none; /*For Firefox*/
                -ms-overflow-style: none; /*For Internet Explorer 10+*/
                overflow-y: scroll;
            }
            ul::-webkit-scrollbar {
                /*For WebKit Browsers*/
                width: 0;
            }
            li, button {
                cursor: pointer;
            }
            li button {
                width: 100%;
                background-color: transparent;
                text-align: left;
                color: #111;
            }
            {%- for i in range(0, 35) -%}
            .bg-color-{{ i }} {
                background-color: hsl({{ (i - 1) * 10}}, 100%, 80%);
            }
            .bg-color-{{ i }}:has(button:active, button:focus) {
                background-color: hsl({{ (((i - 1) * 10) + 180) % 360 }}, 100%, 80%);
            }
            .bg-color-{{ i }}:hover {
                background-color: hsl({{ (((i - 1) * 10) + 180) % 360 }}, 100%, 80%);
            }
            {%- endfor -%}
            .flex {
                display: flex;
            }
            .flex-col {
                flex-direction: column;
            }
            .w-full {
                width: 100%;
            }
            .bg-blue {
                background-color: blue;
            }
            .text-white {
                color: white;
            }
            .hidden {
                display: none;
            }
        </style>
    </head>
    <body>
        <main class="flex flex-col">
            <section
                id="top"
                class="flex"
                style="max-height: calc(40vh - 4rem); height: calc(40vh - 4rem)"
            >
                <ul
                    id="queue"
                    class="w-full"
                    style="height: calc(40vh - 4rem)"
                    multiple
                ></ul>
                <ul
                    id="artists"
                    class="w-full"
                    style="height: calc(40vh - 4rem)"
                    multiple
                >
                    {%- for (id, artist) in data.artists|items -%}
                    <li
                        id="{{ artist.id }}"
                        class="bg-color-{{ (loop.index0 % 36) }}"
                    >
                        <button>{{ artist.name }}</button>
                    </li>
                    {%- endfor -%}
                </ul>
                <ul
                    id="albums"
                    class="w-full"
                    style="height: calc(40vh - 4rem)"
                    multiple
                >
                    {% for (id, artist) in data.artists|items %} {% for (id,
                    album) in artist.albums|items %}
                    <li
                        id="{{ album.id }}"
                        data-artist-id="{{ album.artist_id }}"
                        class="bg-color-{{ (loop.index % 36) + 1 }}"
                    >
                        <button>{{ album.title }}</button>
                    </li>
                    {% endfor %} {% endfor %}
                </ul>
            </section>
            <section id="bottom" style="max-height: calc(60vh - 4rem)">
                <ul
                    id="tracks"
                    class="w-full"
                    style="height: calc(60vh - 4rem)"
                    multiple
                >
                    {% for (id, artist) in data.artists|items %} {% for (id,
                    album) in artist.albums|items %} {% for track in
                    album.tracks %}
                    <li
                        id="{{ track.id }}"
                        class="bg-color-{{ (loop.index % 36) + 1 }}"
                        data-number="{{ track.number }}"
                        data-file-path="{{root_path}}/music/{{ track.file_path }}"
                        data-artist-id="{{ track.artist_id }}"
                        data-album-id="{{ track.album_id }}"
                        data-artist="{{ artist.name }}"
                        data-album="{{ album.title }}"
                        data-name="{{ track.name }}"
                    >
                        <button>
                            {{ track.number }} {{ artist.name }} - {{
                            album.title }} - {{ track.name }}
                        </button>
                    </li>
                    {% endfor %} {% endfor %} {% endfor %}
                </ul>
            </section>
        </main>
        <aside class="bg-blue w-full" style="height: 8rem">
            <audio class="hidden" id="audio" src="" controls></audio>
            <div id="now-playing" class="text-white"></div>
            <div id="time" class="text-white"></div>
            <button id="play">Play</button>
            <button id="prev">Prev</button>
            <button id="next">Next</button>
            <button id="repeat">Repeat</button>
            <button id="shuffle">Shuffle</button>
        </aside>
    </body>
</html>
